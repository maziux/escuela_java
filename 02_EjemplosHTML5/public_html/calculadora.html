<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>CALCULADORA</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="estilos/calculadora_css.css" />
    </head>
    <body>
        <h1>Calculadora</h1>
        <div>
            <p id="datos"></p>
        </div>
        <div id="bodyCalculadora">
            <div class="row">
                <input type="button" value="7" onClick="pulsar('7')"/>
                <input type="button" value="8" onClick="pulsar('8')"/>
                <input type="button" value="9" onClick="pulsar('9')"/>
            </div>
            <div class="row">
                <input type="button" value="4" onClick="pulsar('4')"/>
                <input type="button" value="5" onClick="pulsar('5')"/>
                <input type="button" value="6" onClick="pulsar('6')"/>
            </div>
            <div class="row">
                <input type="button" value="1" onClick="pulsar('1')"/>
                <input type="button" value="2" onClick="pulsar('2')"/>
                <input type="button" value="3" onClick="pulsar('3')"/>
            </div>
            <div class="row">
                <input type="button" value="0" onClick="pulsar('0')"/>
                <input type="button" value="." onClick="checkPnt()"/>                
                <input type="button" value="=" onClick="resultado()"/>
            </div>
            <div class="row">
                <input type="button" value="+" onClick="pulsar('+')"/>
                <input type="button" value="-" onClick="pulsar('-')"/>
                <input type="button" value="CLR" onClick="limpiar()"/>
            </div>
        </div>
        
        <script>
            function pulsar(value) {
                value = value === '+' ? ' + ' : value;
                value = value === '-' ? ' - ' : value;
                checkContenido();
                let valor = document.getElementById("datos").textContent;
                valor = valor + value;
                document.getElementById("datos").textContent = valor;
            };
            function resultado() {
                let myResult;
                let valorR = document.getElementById("datos").textContent;
                let myValues = valorR.split(" ");
                if (myValues[1] == '+') myResult = parseFloat(myValues[0]) + parseFloat(myValues[2]);
                if (myValues[1] == '-') myResult = parseFloat(myValues[0]) - parseFloat(myValues[2]);
                if (myValues.length === 1) myResult = parseFloat(myValues[0]);  
                document.getElementById("datos").textContent = myResult;
            }
            function limpiar() {
                document.getElementById("datos").textContent = '';
            }
            function checkContenido(){
                let contenido = document.getElementById("datos").textContent;
                contenido = contenido.trim();
                contenido = contenido.split(' ');
                if (contenido.length == 2){
                    if (contenido[0] === '-' && contenido[1] !== '-' && contenido[1] !== '+'){
                        document.getElementById("datos").textContent = '-' + contenido[1];
                    }
                }
            }
            function checkPnt() {
                let values = document.getElementById("datos").textContent;
                values = values.trim();
                values = values.split(" ");
                if (values.length === 1) {
                    if (!values[0].includes['.']) {
                         document.getElementById("datos").textContent = values[0] + '.';
                    }
                }
                if (values.length === 3) {
                    if (!values[2].includes['.']) {
                        document.getElementById("datos").textContent = values[0] +' '+ values[1]+ ' ' + values[2] + '.';
                    }
                }
            }
            function operar(variable) {
                let datos = document.getElementById("datos").textContent;
                datos = datos.trim();
                datos = datos.split(' ');
                
                let myResult;
                if (variable[1] === '+') myResult = parseInt(variable[0]) + parseInt(variable[2]);
                if (variable[1] === '-') myResult = parseInt(variable[0]) - parseInt(variable[2]);
                document.getElementById("datos").textContent = myResult;
            }
        </script>
    </body>
</html>
